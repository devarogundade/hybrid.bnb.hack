<template>
    <div>
        <svg ref="svg" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" id="visual"
            viewBox="0 0 1920 800" width="1920" height="800" version="1.1">
            <path
                d="M0 487L24.7 486.5C49.3 486 98.7 485 147.8 496.7C197 508.3 246 532.7 295.2 546.3C344.3 560 393.7 563 443 566C492.3 569 541.7 572 590.8 572.5C640 573 689 571 738.2 568.5C787.3 566 836.7 563 886 561C935.3 559 984.7 558 1034 557.5C1083.3 557 1132.7 557 1181.8 560.3C1231 563.7 1280 570.3 1329.2 574.7C1378.3 579 1427.7 581 1477 578.7C1526.3 576.3 1575.7 569.7 1624.8 562C1674 554.3 1723 545.7 1772.2 539.2C1821.3 532.7 1870.7 528.3 1895.3 526.2L1920 524L1920 801L1895.3 801C1870.7 801 1821.3 801 1772.2 801C1723 801 1674 801 1624.8 801C1575.7 801 1526.3 801 1477 801C1427.7 801 1378.3 801 1329.2 801C1280 801 1231 801 1181.8 801C1132.7 801 1083.3 801 1034 801C984.7 801 935.3 801 886 801C836.7 801 787.3 801 738.2 801C689 801 640 801 590.8 801C541.7 801 492.3 801 443 801C393.7 801 344.3 801 295.2 801C246 801 197 801 147.8 801C98.7 801 49.3 801 24.7 801L0 801Z"
                fill="#121312" opacity="0.5" />
            <path
                d="M0 647L24.7 638C49.3 629 98.7 611 147.8 605.8C197 600.7 246 608.3 295.2 614.2C344.3 620 393.7 624 443 614C492.3 604 541.7 580 590.8 584C640 588 689 620 738.2 632.7C787.3 645.3 836.7 638.7 886 639.5C935.3 640.3 984.7 648.7 1034 644.3C1083.3 640 1132.7 623 1181.8 614C1231 605 1280 604 1329.2 596.8C1378.3 589.7 1427.7 576.3 1477 568.3C1526.3 560.3 1575.7 557.7 1624.8 562.8C1674 568 1723 581 1772.2 586.8C1821.3 592.7 1870.7 591.3 1895.3 590.7L1920 590L1920 801L1895.3 801C1870.7 801 1821.3 801 1772.2 801C1723 801 1674 801 1624.8 801C1575.7 801 1526.3 801 1477 801C1427.7 801 1378.3 801 1329.2 801C1280 801 1231 801 1181.8 801C1132.7 801 1083.3 801 1034 801C984.7 801 935.3 801 886 801C836.7 801 787.3 801 738.2 801C689 801 640 801 590.8 801C541.7 801 492.3 801 443 801C393.7 801 344.3 801 295.2 801C246 801 197 801 147.8 801C98.7 801 49.3 801 24.7 801L0 801Z"
                fill="#305832" />
            <path
                d="M0 678L24.7 669.5C49.3 661 98.7 644 147.8 644.3C197 644.7 246 662.3 295.2 675.2C344.3 688 393.7 696 443 692.7C492.3 689.3 541.7 674.7 590.8 668C640 661.3 689 662.7 738.2 659.7C787.3 656.7 836.7 649.3 886 651.5C935.3 653.7 984.7 665.3 1034 671.8C1083.3 678.3 1132.7 679.7 1181.8 673C1231 666.3 1280 651.7 1329.2 642.7C1378.3 633.7 1427.7 630.3 1477 631.3C1526.3 632.3 1575.7 637.7 1624.8 648C1674 658.3 1723 673.7 1772.2 668.2C1821.3 662.7 1870.7 636.3 1895.3 623.2L1920 610L1920 801L1895.3 801C1870.7 801 1821.3 801 1772.2 801C1723 801 1674 801 1624.8 801C1575.7 801 1526.3 801 1477 801C1427.7 801 1378.3 801 1329.2 801C1280 801 1231 801 1181.8 801C1132.7 801 1083.3 801 1034 801C984.7 801 935.3 801 886 801C836.7 801 787.3 801 738.2 801C689 801 640 801 590.8 801C541.7 801 492.3 801 443 801C393.7 801 344.3 801 295.2 801C246 801 197 801 147.8 801C98.7 801 49.3 801 24.7 801L0 801Z"
                fill="#51a84f" />
            <path
                d="M0 740L24.7 737.5C49.3 735 98.7 730 147.8 722.2C197 714.3 246 703.7 295.2 696.3C344.3 689 393.7 685 443 694.3C492.3 703.7 541.7 726.3 590.8 731.2C640 736 689 723 738.2 720C787.3 717 836.7 724 886 729C935.3 734 984.7 737 1034 736.7C1083.3 736.3 1132.7 732.7 1181.8 725.3C1231 718 1280 707 1329.2 703C1378.3 699 1427.7 702 1477 707.5C1526.3 713 1575.7 721 1624.8 725.5C1674 730 1723 731 1772.2 729.3C1821.3 727.7 1870.7 723.3 1895.3 721.2L1920 719L1920 801L1895.3 801C1870.7 801 1821.3 801 1772.2 801C1723 801 1674 801 1624.8 801C1575.7 801 1526.3 801 1477 801C1427.7 801 1378.3 801 1329.2 801C1280 801 1231 801 1181.8 801C1132.7 801 1083.3 801 1034 801C984.7 801 935.3 801 886 801C836.7 801 787.3 801 738.2 801C689 801 640 801 590.8 801C541.7 801 492.3 801 443 801C393.7 801 344.3 801 295.2 801C246 801 197 801 147.8 801C98.7 801 49.3 801 24.7 801L0 801Z"
                fill="#78ff69" />
        </svg>

        <p ref="scroll" class="scroll">Just scroll down üëáüëá</p>
    </div>
</template>

<script setup lang="ts">
import { onMounted, ref } from 'vue';

let lastScrollTop = 0;

const svg = ref<SVGElement | null>(null);
const scroll = ref<HTMLParagraphElement | null>(null);


onMounted(() => {
    window.addEventListener("scroll", function () {
        let st = window.pageYOffset || document.documentElement.scrollTop;
        if (st > lastScrollTop) {
            // downscroll code
            if (!svg || !svg.value) return;
            svg.value.style.bottom = '-100vh';

            if (!scroll || !scroll.value) return;
            scroll.value.textContent = 'Great job üëçüëç';
        } else if (st < lastScrollTop) {
            // upscroll code

            if (st == 0) {
                if (!svg || !svg.value) return;
                svg.value.style.bottom = '-50px';


                if (!scroll || !scroll.value) return;
                scroll.value.textContent = 'Just scroll down üëáüëá';
            }
        } // else was horizontal scroll

        lastScrollTop = st <= 0 ? 0 : st; // For Mobile or negative scrolling
    }, false);
});
</script>

<style scoped>
div {
    position: relative;
    text-align: center;
}

.scroll {
    position: absolute;
    font-size: 20px;
    color: #ffffff;
    width: 100%;
    transition: .2s;
    animation: updown 1s ease-in-out infinite;
}

svg {
    left: 0;
    bottom: -50px;
    position: fixed;
    transition: .6s;
}

@keyframes updown {

    0%,
    100% {
        top: -1055px;
    }

    50% {
        top: -1045px;
    }
}
</style>